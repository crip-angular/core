!function(i,n){"use strict";n.core=i.module("crip.core",[])}(angular,window.crip||(window.crip={})),function(i,n,t,e,r,o){"use strict";function c(){function n(i){return this.filter(function(n){return i.indexOf(n)<0})}function c(i,n){if("undefined"==typeof n)return void this.splice(this.indexOf(i)||this.length,1);for(var t=this.length-1;t>=0;t--)this[t][n]==i&&this.splice(t,1)}function u(n){return i.isUndefined(n)||""===n||null===n||n!==n}function f(i){return!u(i)}function s(n,t){var e=arguments;if(0===e.length||u(e[0]))return!1;var r=e[0];for(var o in e)if("0"!==o){if(!r.hasOwnProperty(e[o]))return!1;if(r=r[e[o]],i.isUndefined(r))return!1}return!0}function a(i){return this.replace(/{([^{}]*)}/g,function(n,t){var e=i[t];return"string"==typeof e||"number"==typeof e?e:n})}function p(i){return i.value=this,i.size=o.log(i.value)/o.log(1e3)|0,i.num=(i.value/o.pow(1e3,i.size)).toFixed(2),i.text=i.size?"kMGTPEZY"[--i.size]+"B":"Bytes","{num} {text}".supplant(i)}t.prototype.diff=n,t.prototype.removeItem=c,e.prototype.supplant=a,r.prototype.toBytes=p,i.extend(i,{isEmpty:u,hasValue:f,hasProperty:s})}n.core.config(c),c.$inject=[]}(angular,window.crip||(window.crip={}),Array,String,Number,Math),function(i,n){"use strict";function t(n){function t(t){return i.isObject(t)&&t instanceof n.File}function e(i){var n="|"+i.type.slice(i.type.lastIndexOf("/")+1)+"|";return-1!=="|jpg|png|jpeg|bmp|gif|".indexOf(n)}i.extend(i,{isFile:t,isImage:e,fileSupport:!(!n.FileReader||!n.CanvasRenderingContext2D)})}n.core.run(t),t.$inject=["$window"]}(angular,window.crip||(window.crip={})),function(i,n){"use strict";function t(){function i(i,n,t,e){n.bind("keydown keypress",function(n){13===n.which&&(i.$apply(function(){i.$eval(t.cripEnter,{event:n})}),n.preventDefault())}),i.$on("$destroy",function(){n.off(t.cripEnter)})}return{restrict:"A",link:i}}n.core.directive("cripEnter",t),t.$inject=[]}(angular,window.crip||(window.crip={})),function(i){"use strict";function n(i){function n(n,t,e,r){t.on(e.cripFocus,function(){i(e.cripSelector)}),n.$on("$destroy",function(){t.off(e.cripFocus)})}return{restrict:"A",link:n}}i.core.directive("cripFocus",n),n.$inject=["focus"]}(window.crip||(window.crip={})),function(i,n){"use strict";function t(){function n(n,t,e){function r(i){var n=new Image;n.onload=o,n.src=i.target.result}function o(){var i=c.width||this.width/this.height*c.height,n=c.height||this.height/this.width*c.width;u.attr({width:i,height:n}),u[0].getContext("2d").drawImage(this,0,0,i,n)}if(i.fileSupport){var c=n.$eval(e.cripThumb);if(!i.isFile(c.file)||!i.isImage(c.file))return void t.hide();var u=t.find("canvas"),f=new FileReader;f.onload=r,f.readAsDataURL(c.file)}}return{restrict:"A",template:"<canvas/>",link:n}}n.core.directive("cripThumb",t)}(angular,window.crip||(window.crip={})),function(i,n){"use strict";function t(n){return function(t,e){n(function(){var n=i(t);1===n.length&&("function"==typeof e?n.focus(e):n.focus())})}}n.core.factory("focus",t),t.$inject=["$timeout"]}(jQuery,window.crip||(window.crip={})),function(i,n){"use strict";function t(){var i="-_ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789_-";this.changeChars=function(n){i=n},this["new"]=function(t){t|=16;for(var e="",r=0;t>r;r++)e+=i.charAt(n.floor(n.random()*i.length));return e}}i.core.service("cripStrRandom",t),t.$inject=[]}(window.crip||(window.crip={}),Math);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9zb3VyY2UvY29yZS5tb2R1bGUuanMiLCIvc291cmNlL2NvbmZpZy5qcyIsIi9zb3VyY2UvZmlsZS5leHRlbnNpb25zLmpzIiwiL3NvdXJjZS9kaXJlY3RpdmVzL2NyaXBFbnRlci5qcyIsIi9zb3VyY2UvZGlyZWN0aXZlcy9jcmlwRm9jdXMuanMiLCIvc291cmNlL2RpcmVjdGl2ZXMvY3JpcFRodW1iLmpzIiwiL3NvdXJjZS9mYWN0b3JpZXMvZm9jdXMuanMiLCIvc291cmNlL3NlcnZpY2VzL2NyaXBTdHJSYW5kb20uanMiXSwibmFtZXMiOlsibmciLCJjcmlwIiwiY29yZSIsIm1vZHVsZSIsImFuZ3VsYXIiLCJ3aW5kb3ciLCJBcnJheSIsIlN0cmluZyIsIk51bWJlciIsIk1hdGgiLCJDb3JlQ29uZmlnIiwiZGlmZiIsImEiLCJ0aGlzIiwiZmlsdGVyIiwiaSIsImluZGV4T2YiLCJyZW1vdmVJdGVtIiwidmFsIiwia2V5Iiwic3BsaWNlIiwibGVuZ3RoIiwiaXNFbXB0eSIsInZhbHVlIiwiaXNVbmRlZmluZWQiLCJoYXNWYWx1ZSIsImhhc1Byb3BlcnR5Iiwib2JqZWN0IiwicHJvcGVydGllcyIsImFyZ3VtZW50cyIsInRhcmdldCIsImFyZyIsImhhc093blByb3BlcnR5Iiwic3VwcGxhbnQiLCJvIiwicmVwbGFjZSIsImIiLCJyIiwidG9CeXRlcyIsImhvbGRlciIsInNpemUiLCJsb2ciLCJudW0iLCJwb3ciLCJ0b0ZpeGVkIiwidGV4dCIsInByb3RvdHlwZSIsImV4dGVuZCIsImNvbmZpZyIsIiRpbmplY3QiLCJGaWxlRXh0ZW5zaW9ucyIsIiR3aW5kb3ciLCJpc0ZpbGUiLCJpdGVtIiwiaXNPYmplY3QiLCJGaWxlIiwiaXNJbWFnZSIsImZpbGUiLCJ0eXBlIiwic2xpY2UiLCJsYXN0SW5kZXhPZiIsImZpbGVTdXBwb3J0IiwiRmlsZVJlYWRlciIsIkNhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCIsInJ1biIsImNyaXBFbnRlciIsImxpbmsiLCJzY29wZSIsImVsZW1lbnQiLCJhdHRycyIsImN0cmwiLCJiaW5kIiwiZXZlbnQiLCJ3aGljaCIsIiRhcHBseSIsIiRldmFsIiwicHJldmVudERlZmF1bHQiLCIkb24iLCJvZmYiLCJyZXN0cmljdCIsImRpcmVjdGl2ZSIsImNyaXBGb2N1cyIsImZvY3VzIiwib24iLCJjcmlwU2VsZWN0b3IiLCJjcmlwVGh1bWIiLCJvbkxvYWRGaWxlIiwiaW1nIiwiSW1hZ2UiLCJvbmxvYWQiLCJvbkxvYWRJbWFnZSIsInNyYyIsInJlc3VsdCIsIndpZHRoIiwicGFyYW1zIiwiaGVpZ2h0IiwiY2FudmFzIiwiYXR0ciIsImdldENvbnRleHQiLCJkcmF3SW1hZ2UiLCJoaWRlIiwiZmluZCIsInJlYWRlciIsInJlYWRBc0RhdGFVUkwiLCJ0ZW1wbGF0ZSIsIiQiLCIkdGltZW91dCIsInNlbGVjdG9yIiwiY2FsbGJhY2siLCIkZWxlbWVudCIsImZhY3RvcnkiLCJqUXVlcnkiLCJjcmlwU3RyUmFuZG9tIiwicG9zc2libGUiLCJjaGFuZ2VDaGFycyIsImNoYXJzIiwiY2hhckF0IiwiZmxvb3IiLCJyYW5kb20iLCJzZXJ2aWNlIl0sIm1hcHBpbmdzIjoiQ0FBQSxTQUFBQSxFQUFBQyxHQUNBLFlBRUFBLEdBQUFDLEtBQUFGLEVBQUFHLE9BQUEsaUJBRUFDLFFBQUFDLE9BQUFKLE9BQUFJLE9BQUFKLFVDTEEsU0FBQUQsRUFBQUMsRUFBQUssRUFBQUMsRUFBQUMsRUFBQUMsR0FDQSxZQU9BLFNBQUFDLEtBbUJBLFFBQUFDLEdBQUFDLEdBQ0EsTUFBQUMsTUFBQUMsT0FBQSxTQUFBQyxHQUNBLE1BQUFILEdBQUFJLFFBQUFELEdBQUEsSUFVQSxRQUFBRSxHQUFBQyxFQUFBQyxHQUNBLEdBQUEsbUJBQUFBLEdBRUEsV0FEQU4sTUFBQU8sT0FBQVAsS0FBQUcsUUFBQUUsSUFBQUwsS0FBQVEsT0FBQSxFQUlBLEtBQUEsR0FBQU4sR0FBQUYsS0FBQVEsT0FBQSxFQUFBTixHQUFBLEVBQUFBLElBQ0FGLEtBQUFFLEdBQUFJLElBQUFELEdB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QUFDLE9BQUFKLE9BQUFJLE9BQUFKLFVDNUNBLFNBQUF3RyxFQUFBeEcsR0FDQSxZQU9BLFNBQUFpRixHQUFBd0IsR0FDQSxNQUFBLFVBQUFDLEVBQUFDLEdBS0FGLEVBQUEsV0FDQSxHQUFBRyxHQUFBSixFQUFBRSxFQUNBLEtBQUFFLEVBQUF4RixTQUNBLGtCQUFBdUYsR0FDQUMsRUFBQTNCLE1BQUEwQixHQUVBQyxFQUFBM0IsWUFqQkFqRixFQUFBQyxLQUNBNEcsUUFBQSxRQUFBNUIsR0FFQUEsRUFBQWpDLFNBQUEsYUFtQkE4RCxPQUFBMUcsT0FBQUosT0FBQUksT0FBQUosVUN6QkEsU0FBQUEsRUFBQVEsR0FDQSxZQU9BLFNBQUF1RyxLQUNBLEdBQUFDLEdBQUEsb0VBRUFwRyxNQUFBcUcsWUFBQSxTQUFBQyxHQUNBRixFQUFBRSxHQUdBdEcsS0FBQUEsT0FBQSxTQUFBUSxHQUNBQSxHQUFBLEVBRUEsS0FBQSxHQURBdUUsR0FBQSxHQUNBN0UsRUFBQSxFQUFBTSxFQUFBTixFQUFBQSxJQUNBNkUsR0FBQXFCLEVBQUFHLE9BQUEzRyxFQUFBNEcsTUFBQTVHLEVBQUE2RyxTQUFBTCxFQUFBNUYsUUFHQSxPQUFBdUUsSUFuQkEzRixFQUFBQyxLQUNBcUgsUUFBQSxnQkFBQVAsR0FFQUEsRUFBQS9ELFlBbUJBNUMsT0FBQUosT0FBQUksT0FBQUosU0FBQVEiLCJmaWxlIjoiY3JpcC1jb3JlLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiAobmcsIGNyaXApIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBjcmlwLmNvcmUgPSBuZy5tb2R1bGUoJ2NyaXAuY29yZScsIFtdKTtcclxuXHJcbn0pKGFuZ3VsYXIsIHdpbmRvdy5jcmlwIHx8ICh3aW5kb3cuY3JpcCA9IHt9KSk7IiwiKGZ1bmN0aW9uIChuZywgY3JpcCwgQXJyYXksIFN0cmluZywgTnVtYmVyLCBNYXRoKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgY3JpcC5jb3JlXHJcbiAgICAgICAgLmNvbmZpZyhDb3JlQ29uZmlnKTtcclxuXHJcbiAgICBDb3JlQ29uZmlnLiRpbmplY3QgPSBbXTtcclxuXHJcbiAgICBmdW5jdGlvbiBDb3JlQ29uZmlnKCkge1xyXG4gICAgICAgIEFycmF5LnByb3RvdHlwZS5kaWZmID0gZGlmZjtcclxuICAgICAgICBBcnJheS5wcm90b3R5cGUucmVtb3ZlSXRlbSA9IHJlbW92ZUl0ZW07XHJcblxyXG4gICAgICAgIFN0cmluZy5wcm90b3R5cGUuc3VwcGxhbnQgPSBzdXBwbGFudDtcclxuICAgICAgICBOdW1iZXIucHJvdG90eXBlLnRvQnl0ZXMgPSB0b0J5dGVzO1xyXG5cclxuICAgICAgICBuZy5leHRlbmQobmcsIHtcclxuICAgICAgICAgICAgaXNFbXB0eTogaXNFbXB0eSxcclxuICAgICAgICAgICAgaGFzVmFsdWU6IGhhc1ZhbHVlLFxyXG4gICAgICAgICAgICBoYXNQcm9wZXJ0eTogaGFzUHJvcGVydHlcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogR2V0IGRpZmZlcmVudCBlbGVtZW50cyBmcm9tIEFycmF5XHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0ge0FycmF5fSBhXHJcbiAgICAgICAgICogQHJldHVybnMge0FycmF5fVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIGRpZmYoYSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5maWx0ZXIoZnVuY3Rpb24gKGkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBhLmluZGV4T2YoaSkgPCAwO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFJlbW92ZSBpdGVtIGZyb20gQXJyYXlcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gdmFsXHJcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGtleVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIHJlbW92ZUl0ZW0odmFsLCBrZXkpIHtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBrZXkgPT09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3BsaWNlKCh0aGlzLmluZGV4T2YodmFsKSB8fCB0aGlzLmxlbmd0aCksIDEpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gdGhpcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXNbaV1ba2V5XSA9PSB2YWwpXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zcGxpY2UoaSwgMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIERldGVybWluZXMgaXMgdmFsdWUgZW1wdHlcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSB2YWx1ZVxyXG4gICAgICAgICAqIEByZXR1cm5zIHtib29sZWFufVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIGlzRW1wdHkodmFsdWUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5nLmlzVW5kZWZpbmVkKHZhbHVlKSB8fCB2YWx1ZSA9PT0gJycgfHwgdmFsdWUgPT09IG51bGwgfHwgdmFsdWUgIT09IHZhbHVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogRGV0ZXJtaW5lcyBpcyB2YWx1ZSBpbiBvYmplY3RcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSB2YWx1ZVxyXG4gICAgICAgICAqIEByZXR1cm5zIHtib29sZWFufVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIGhhc1ZhbHVlKHZhbHVlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAhaXNFbXB0eSh2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBEZXRlcm1pbmVzIGlzIG9iamVjdCBjb250YWluaW5nIHByb3BlcnRpZXMgY2hhaW5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSB7b2JqZWN0fSBvYmplY3RcclxuICAgICAgICAgKiBAcGFyYW0gey4uLnN0cmluZ30gcHJvcGVydGllc1xyXG4gICAgICAgICAqIEByZXR1cm5zIHtib29sZWFufVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIGhhc1Byb3BlcnR5KG9iamVjdCwgcHJvcGVydGllcykge1xyXG4gICAgICAgICAgICB2YXIgYSA9IGFyZ3VtZW50cztcclxuXHJcbiAgICAgICAgICAgIGlmIChhLmxlbmd0aCA9PT0gMCB8fCBpc0VtcHR5KGFbMF0pKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgdmFyIHRhcmdldCA9IGFbMF07XHJcbiAgICAgICAgICAgIGZvciAodmFyIGFyZyBpbiBhKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoYXJnID09PSAnMCcpXHJcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCF0YXJnZXQuaGFzT3duUHJvcGVydHkoYVthcmddKSlcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgdGFyZ2V0ID0gdGFyZ2V0W2FbYXJnXV07XHJcbiAgICAgICAgICAgICAgICBpZiAobmcuaXNVbmRlZmluZWQodGFyZ2V0KSlcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQSBzaW1wbGUgdGVtcGxhdGluZyBtZXRob2QgZm9yIHJlcGxhY2luZyBwbGFjZWhvbGRlcnMgZW5jbG9zZWQgaW4gY3VybHkgYnJhY2VzLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIHtvYmplY3R9IG9cclxuICAgICAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIHN1cHBsYW50KG8pIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVwbGFjZSgveyhbXnt9XSopfS9nLFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKGEsIGIpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgciA9IG9bYl07XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiByID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgciA9PT0gJ251bWJlcicgPyByIDogYTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIENvbnZlcnQgTnVtYmVyIHRvIHVzZXIgZnJpZW5kbHkgYnl0ZSBzdHJpbmdcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSBbaG9sZGVyXVxyXG4gICAgICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gdG9CeXRlcyhob2xkZXIpIHtcclxuICAgICAgICAgICAgaG9sZGVyLnZhbHVlID0gdGhpcztcclxuICAgICAgICAgICAgaG9sZGVyLnNpemUgPSBNYXRoLmxvZyhob2xkZXIudmFsdWUpIC8gTWF0aC5sb2coMWUzKSB8IDA7XHJcbiAgICAgICAgICAgIGhvbGRlci5udW0gPSAoaG9sZGVyLnZhbHVlIC8gTWF0aC5wb3coMWUzLCBob2xkZXIuc2l6ZSkpLnRvRml4ZWQoMik7XHJcbiAgICAgICAgICAgIGhvbGRlci50ZXh0ID0gKGhvbGRlci5zaXplID8gKCdrTUdUUEVaWSdbLS1ob2xkZXIuc2l6ZV0gKyAnQicpIDogJ0J5dGVzJyk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gJ3tudW19IHt0ZXh0fScuc3VwcGxhbnQoaG9sZGVyKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0pKGFuZ3VsYXIsIHdpbmRvdy5jcmlwIHx8ICh3aW5kb3cuY3JpcCA9IHt9KSwgQXJyYXksIFN0cmluZywgTnVtYmVyLCBNYXRoKTsiLCIoZnVuY3Rpb24obmcsIGNyaXApe1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIGNyaXAuY29yZVxyXG4gICAgICAgIC5ydW4oRmlsZUV4dGVuc2lvbnMpO1xyXG5cclxuICAgIEZpbGVFeHRlbnNpb25zLiRpbmplY3QgPSBbJyR3aW5kb3cnXTtcclxuXHJcbiAgICBmdW5jdGlvbiBGaWxlRXh0ZW5zaW9ucygkd2luZG93KSB7XHJcblxyXG4gICAgICAgIG5nLmV4dGVuZChuZywge1xyXG4gICAgICAgICAgICBpc0ZpbGU6IGlzRmlsZSxcclxuICAgICAgICAgICAgaXNJbWFnZTogaXNJbWFnZSxcclxuICAgICAgICAgICAgZmlsZVN1cHBvcnQ6ICEhKCR3aW5kb3cuRmlsZVJlYWRlciAmJiAkd2luZG93LkNhbnZhc1JlbmRlcmluZ0NvbnRleHQyRClcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogRGV0ZXJtaW5lcyBpcyBpdGVtIGFuIGluc3RhbmNlIG9mIEZpbGVcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gaXRlbVxyXG4gICAgICAgICAqIEByZXR1cm5zIHtib29sZWFufVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIGlzRmlsZShpdGVtKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZy5pc09iamVjdChpdGVtKSAmJiBpdGVtIGluc3RhbmNlb2YgJHdpbmRvdy5GaWxlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogRGV0ZXJtaW5lcyBpcyBmaWxlIGFuIHR5cGUgb2YgaW1hZ2VcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSB7RmlsZX0gZmlsZVxyXG4gICAgICAgICAqIEByZXR1cm5zIHtib29sZWFufVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIGlzSW1hZ2UoZmlsZSkge1xyXG4gICAgICAgICAgICB2YXIgdHlwZSA9ICd8JyArIGZpbGUudHlwZS5zbGljZShmaWxlLnR5cGUubGFzdEluZGV4T2YoJy8nKSArIDEpICsgJ3wnO1xyXG4gICAgICAgICAgICByZXR1cm4gJ3xqcGd8cG5nfGpwZWd8Ym1wfGdpZnwnLmluZGV4T2YodHlwZSkgIT09IC0xO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSkoYW5ndWxhciwgd2luZG93LmNyaXAgfHwgKHdpbmRvdy5jcmlwID0ge30pKTsiLCIoZnVuY3Rpb24gKG5nLCBjcmlwKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgY3JpcC5jb3JlXHJcbiAgICAgICAgLmRpcmVjdGl2ZSgnY3JpcEVudGVyJywgY3JpcEVudGVyKTtcclxuXHJcbiAgICBjcmlwRW50ZXIuJGluamVjdCA9IFtdO1xyXG5cclxuICAgIGZ1bmN0aW9uIGNyaXBFbnRlcigpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICByZXN0cmljdDogJ0EnLFxyXG4gICAgICAgICAgICBsaW5rOiBsaW5rXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gbGluayhzY29wZSwgZWxlbWVudCwgYXR0cnMsIGN0cmwpIHtcclxuICAgICAgICAgICAgZWxlbWVudC5iaW5kKFwia2V5ZG93biBrZXlwcmVzc1wiLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChldmVudC53aGljaCA9PT0gMTMpIHtcclxuICAgICAgICAgICAgICAgICAgICBzY29wZS4kYXBwbHkoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzY29wZS4kZXZhbChhdHRycy5jcmlwRW50ZXIsIHsnZXZlbnQnOiBldmVudH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vIFJlbW92ZXMgYm91bmQgZXZlbnRzIGluIHRoZSBlbGVtZW50IGl0c2VsZlxyXG4gICAgICAgICAgICAvLyB3aGVuIHRoZSBzY29wZSBpcyBkZXN0cm95ZWRcclxuICAgICAgICAgICAgc2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGVsZW1lbnQub2ZmKGF0dHJzLmNyaXBFbnRlcik7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSkoYW5ndWxhciwgd2luZG93LmNyaXAgfHwgKHdpbmRvdy5jcmlwID0ge30pKTtcclxuIiwiKGZ1bmN0aW9uIChjcmlwKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgY3JpcC5jb3JlXHJcbiAgICAgICAgLmRpcmVjdGl2ZSgnY3JpcEZvY3VzJywgY3JpcEZvY3VzKTtcclxuXHJcbiAgICBjcmlwRm9jdXMuJGluamVjdCA9IFsnZm9jdXMnXTtcclxuXHJcbiAgICBmdW5jdGlvbiBjcmlwRm9jdXMoZm9jdXMpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICByZXN0cmljdDogJ0EnLFxyXG4gICAgICAgICAgICBsaW5rOiBsaW5rXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gbGluayhzY29wZSwgZWxlbWVudCwgYXR0cnMsIGN0cmwpIHtcclxuICAgICAgICAgICAgZWxlbWVudC5vbihhdHRycy5jcmlwRm9jdXMsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGZvY3VzKGF0dHJzLmNyaXBTZWxlY3Rvcik7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8gUmVtb3ZlcyBib3VuZCBldmVudHMgaW4gdGhlIGVsZW1lbnQgaXRzZWxmXHJcbiAgICAgICAgICAgIC8vIHdoZW4gdGhlIHNjb3BlIGlzIGRlc3Ryb3llZFxyXG4gICAgICAgICAgICBzY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudC5vZmYoYXR0cnMuY3JpcEZvY3VzKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59KSh3aW5kb3cuY3JpcCB8fCAod2luZG93LmNyaXAgPSB7fSkpOyIsIihmdW5jdGlvbiAobmcsIGNyaXApIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBjcmlwLmNvcmVcclxuICAgICAgICAuZGlyZWN0aXZlKCdjcmlwVGh1bWInLCBjcmlwVGh1bWIpO1xyXG5cclxuICAgIGZ1bmN0aW9uIGNyaXBUaHVtYigpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICByZXN0cmljdDogJ0EnLFxyXG4gICAgICAgICAgICB0ZW1wbGF0ZTogJzxjYW52YXMvPicsXHJcbiAgICAgICAgICAgIGxpbms6IGxpbmtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBsaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRycyl7XHJcbiAgICAgICAgICAgIGlmKCFuZy5maWxlU3VwcG9ydCkgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgdmFyIHBhcmFtcyA9IHNjb3BlLiRldmFsKGF0dHJzLmNyaXBUaHVtYik7XHJcblxyXG4gICAgICAgICAgICBpZiAoIW5nLmlzRmlsZShwYXJhbXMuZmlsZSkgfHwgIW5nLmlzSW1hZ2UocGFyYW1zLmZpbGUpKSB7XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50LmhpZGUoKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdmFyIGNhbnZhcyA9IGVsZW1lbnQuZmluZCgnY2FudmFzJyk7XHJcbiAgICAgICAgICAgIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xyXG5cclxuICAgICAgICAgICAgcmVhZGVyLm9ubG9hZCA9IG9uTG9hZEZpbGU7XHJcbiAgICAgICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKHBhcmFtcy5maWxlKTtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIG9uTG9hZEZpbGUoZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgIHZhciBpbWcgPSBuZXcgSW1hZ2UoKTtcclxuICAgICAgICAgICAgICAgIGltZy5vbmxvYWQgPSBvbkxvYWRJbWFnZTtcclxuICAgICAgICAgICAgICAgIGltZy5zcmMgPSBldmVudC50YXJnZXQucmVzdWx0O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBvbkxvYWRJbWFnZSgpIHtcclxuICAgICAgICAgICAgICAgIHZhciB3aWR0aCA9IHBhcmFtcy53aWR0aCB8fCB0aGlzLndpZHRoIC8gdGhpcy5oZWlnaHQgKiBwYXJhbXMuaGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgdmFyIGhlaWdodCA9IHBhcmFtcy5oZWlnaHQgfHwgdGhpcy5oZWlnaHQgLyB0aGlzLndpZHRoICogcGFyYW1zLndpZHRoO1xyXG4gICAgICAgICAgICAgICAgY2FudmFzLmF0dHIoe3dpZHRoOiB3aWR0aCwgaGVpZ2h0OiBoZWlnaHR9KTtcclxuICAgICAgICAgICAgICAgIGNhbnZhc1swXS5nZXRDb250ZXh0KCcyZCcpLmRyYXdJbWFnZSh0aGlzLCAwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbn0pKGFuZ3VsYXIsIHdpbmRvdy5jcmlwIHx8ICh3aW5kb3cuY3JpcCA9IHt9KSk7IiwiKGZ1bmN0aW9uICgkLCBjcmlwKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgY3JpcC5jb3JlXHJcbiAgICAgICAgLmZhY3RvcnkoJ2ZvY3VzJywgZm9jdXMpO1xyXG5cclxuICAgIGZvY3VzLiRpbmplY3QgPSBbJyR0aW1lb3V0J107XHJcblxyXG4gICAgZnVuY3Rpb24gZm9jdXMoJHRpbWVvdXQpIHtcclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHNlbGVjdG9yLCBjYWxsYmFjaykge1xyXG4gICAgICAgICAgICAvLyB0aW1lb3V0IG1ha2VzIHN1cmUgdGhhdCBpdCBpcyBpbnZva2VkIGFmdGVyIGFueSBvdGhlciBldmVudCBoYXMgYmVlbiB0cmlnZ2VyZWQuXHJcbiAgICAgICAgICAgIC8vIGUuZy4gY2xpY2sgZXZlbnRzIHRoYXQgbmVlZCB0byBydW4gYmVmb3JlIHRoZSBmb2N1cyBvclxyXG4gICAgICAgICAgICAvLyBpbnB1dHMgZWxlbWVudHMgdGhhdCBhcmUgaW4gYSBkaXNhYmxlZCBzdGF0ZSBidXQgYXJlIGVuYWJsZWQgd2hlbiB0aG9zZSBldmVudHNcclxuICAgICAgICAgICAgLy8gYXJlIHRyaWdnZXJlZC5cclxuICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyICRlbGVtZW50ID0gJChzZWxlY3Rvcik7XHJcbiAgICAgICAgICAgICAgICBpZiAoJGVsZW1lbnQubGVuZ3RoID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGVsZW1lbnQuZm9jdXMoY2FsbGJhY2spO1xyXG4gICAgICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGVsZW1lbnQuZm9jdXMoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59KShqUXVlcnksIHdpbmRvdy5jcmlwIHx8ICh3aW5kb3cuY3JpcCA9IHt9KSk7IiwiKGZ1bmN0aW9uIChjcmlwLCBNYXRoKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgY3JpcC5jb3JlXHJcbiAgICAgICAgLnNlcnZpY2UoJ2NyaXBTdHJSYW5kb20nLCBjcmlwU3RyUmFuZG9tKTtcclxuXHJcbiAgICBjcmlwU3RyUmFuZG9tLiRpbmplY3QgPSBbXTtcclxuXHJcbiAgICBmdW5jdGlvbiBjcmlwU3RyUmFuZG9tKCkge1xyXG4gICAgICAgIHZhciBwb3NzaWJsZSA9ICctX0FCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Xy0nO1xyXG5cclxuICAgICAgICB0aGlzLmNoYW5nZUNoYXJzID0gZnVuY3Rpb24gKGNoYXJzKSB7XHJcbiAgICAgICAgICAgIHBvc3NpYmxlID0gY2hhcnM7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5uZXcgPSBmdW5jdGlvbiAobGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGxlbmd0aCB8PSAxNjtcclxuICAgICAgICAgICAgdmFyIHJlc3VsdCA9ICcnO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICByZXN1bHQgKz0gcG9zc2libGUuY2hhckF0KE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHBvc3NpYmxlLmxlbmd0aCkpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbn0pKHdpbmRvdy5jcmlwIHx8ICh3aW5kb3cuY3JpcCA9IHt9KSwgTWF0aCk7Il0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
